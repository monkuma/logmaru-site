---
import BaseLayout from "../../layouts/BaseLayout.astro";
import { appName, contactEmail, githubIssues } from "../../data/site";
import { buildAbsoluteUrl } from "../../lib/seo";

const siteUrl = import.meta.env.PUBLIC_SITE_URL || Astro.site?.toString();

if (!siteUrl) {
  throw new Error("PUBLIC_SITE_URL must be configured.");
}

const structuredData = {
  "@context": "https://schema.org",
  "@type": "ContactPage",
  name: `${appName} お問い合わせ`,
  url: buildAbsoluteUrl(siteUrl, "/ja/contact/"),
  inLanguage: "ja",
  mainEntity: {
    "@type": "Organization",
    name: appName,
    email: contactEmail,
    url: buildAbsoluteUrl(siteUrl, "/ja/"),
    sameAs: [githubIssues]
  }
};
---

<BaseLayout
  locale="ja"
  title="LogMaru | お問い合わせ"
  description="LogMaru へのお問い合わせ先です。ご質問・不具合報告・ご要望をお送りいただけます。"
  structuredData={structuredData}
>
  <h1 class="page-title contact-title">お問い合わせ</h1>
  <section class="contact-wrap" aria-label="お問い合わせ方法">
    <article class="contact-card card">
      <h2 class="contact-heading">ご連絡方法</h2>
      <p class="contact-note muted">
        ご質問・不具合報告・ご要望など、お気軽にお知らせください。
      </p>
      <dl class="contact-list">
        <div class="contact-row">
          <dt>メール</dt>
          <dd><a href={`mailto:${contactEmail}`}>{contactEmail}</a></dd>
        </div>

      </dl>
    </article>
  </section>
</BaseLayout>
